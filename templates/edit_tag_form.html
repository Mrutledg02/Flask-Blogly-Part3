{% extends "base.html" %}

<h1 class="block-page-title">{% block page_title %}Edit Post With Tags{% endblock %}</h1>

{% block content %}
    <h2 class="mb-4">Edit Tag</h2>
    <form method="POST" action="{{ url_for('edit_tag', tag_id=tag.id) }}">
        <div class="form-group row">
            <label for="name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="name" name="name" value="{{ tag.name }}">
            </div>
        </div>
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Select Posts</label>
            <div class="col-sm-10">
                {% for post in posts %}
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="post-{{ post.id }}" name="posts" value="{{ post.id }}" {% if post in tag.posts %}checked{% endif %}>
                        <label class="form-check-label" for="post-{{ post.id }}">{{ post.title }}</label>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="text-right">
            <button type="button" class="btn btn-outline-primary" onclick="history.back()">Cancel</button>
            <button type="submit" class="btn btn-success">Edit</button>
        </div>
    </form>
{% endblock %}